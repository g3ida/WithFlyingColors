[gd_scene load_steps=36 format=2]

[ext_resource path="res://Assets/Sprites/Platforms/purple.png" type="Texture" id=1]
[ext_resource path="res://Assets/Scenes/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Assets/Sprites/Platforms/blue_gears.png" type="Texture" id=3]
[ext_resource path="res://Assets/Sprites/Platforms/yellow_gears.png" type="Texture" id=4]
[ext_resource path="res://Assets/Scripts/Level.gd" type="Script" id=5]
[ext_resource path="res://Assets/Scenes/Camera.tscn" type="PackedScene" id=6]
[ext_resource path="res://Assets/Scenes/Platforms/SimplePlatform.tscn" type="PackedScene" id=7]
[ext_resource path="res://Assets/Sprites/Platforms/pink.png" type="Texture" id=8]
[ext_resource path="res://Assets/Scenes/Fallzone.tscn" type="PackedScene" id=9]
[ext_resource path="res://Assets/Scenes/Gem.tscn" type="PackedScene" id=10]
[ext_resource path="res://Assets/Sprites/Backgrounds/bg_grey.png" type="Texture" id=11]
[ext_resource path="res://Assets/Animations/gem_blue_frames.tres" type="SpriteFrames" id=12]
[ext_resource path="res://Assets/Animations/gem_yellow_frames.tres" type="SpriteFrames" id=13]
[ext_resource path="res://Assets/Animations/gem_pink_frames.tres" type="SpriteFrames" id=14]
[ext_resource path="res://Assets/Animations/gem_purple_frames.tres" type="SpriteFrames" id=15]
[ext_resource path="res://Assets/Scenes/HUD/GemsHUDContainer.tscn" type="PackedScene" id=16]
[ext_resource path="res://Assets/Scripts/HUD/HUD.gd" type="Script" id=17]
[ext_resource path="res://Assets/Scenes/Checkpoint.tscn" type="PackedScene" id=18]
[ext_resource path="res://Assets/Scenes/PauseScreen.tscn" type="PackedScene" id=19]
[ext_resource path="res://Assets/Scenes/Platforms/SlidingPlatform.tscn" type="PackedScene" id=20]
[ext_resource path="res://Assets/Scenes/Platforms/Platform.tscn" type="PackedScene" id=21]
[ext_resource path="res://Assets/Scenes/LazerBeam.tscn" type="PackedScene" id=22]
[ext_resource path="res://Assets/Sprites/Platforms/yellow_lazer.png" type="Texture" id=23]
[ext_resource path="res://Assets/Scenes/Canon.tscn" type="PackedScene" id=24]
[ext_resource path="res://Assets/Scenes/Bullet.tscn" type="PackedScene" id=25]
[ext_resource path="res://Assets/Sprites/Canons/blue_canon.png" type="Texture" id=26]
[ext_resource path="res://Assets/Sprites/Canons/blue_canon_stand.png" type="Texture" id=27]
[ext_resource path="res://Assets/Sprites/Canons/blue_missile.png" type="Texture" id=28]
[ext_resource path="res://Assets/Sprites/Platforms/blue.png" type="Texture" id=29]
[ext_resource path="res://Assets/Scenes/Camera/CameraShake.tscn" type="PackedScene" id=30]
[ext_resource path="res://Assets/Scenes/Tetris/TetrisPool.tscn" type="PackedScene" id=31]
[ext_resource path="res://Assets/Scenes/Camera/CameraLocalizer.tscn" type="PackedScene" id=32]
[ext_resource path="res://Assets/Scripts/Player/States/PlayerStatesStore.gd" type="Script" id=33]
[ext_resource path="res://Assets/Scenes/BrickBreaker/BrickBreaker.tscn" type="PackedScene" id=34]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 14.5, 46 )

[node name="Level1" type="Node2D"]
script = ExtResource( 5 )
level_path = "res://Levels/Level1.tscn"

[node name="Checkpoint" parent="." instance=ExtResource( 18 )]
position = Vector2( 1057, 327 )
color_group = "purple"

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_mirroring = Vector2( 2048, 2048 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer"]
scale = Vector2( 32, 32 )
texture = ExtResource( 11 )
centered = false

[node name="Player" parent="." instance=ExtResource( 2 )]
position = Vector2( 628, -504 )
collision_mask = 13
StatesStore = ExtResource( 33 )

[node name="Camera2D" parent="Player" instance=ExtResource( 6 )]
limit_left = -200
limit_top = -2500
limit_right = 10000
limit_bottom = 1000
drag_margin_h_enabled = true
drag_margin_top = 0.05
drag_margin_bottom = 0.05

[node name="PauseMenu" parent="Player/Camera2D" instance=ExtResource( 19 )]

[node name="CameraShake" parent="Player/Camera2D" instance=ExtResource( 30 )]

[node name="PinkPlatform" parent="." instance=ExtResource( 7 )]
position = Vector2( 323, 85 )
scale = Vector2( 3.182, 1 )
texture = ExtResource( 8 )
group = "pink"

[node name="PurplePlatform" parent="." instance=ExtResource( 7 )]
position = Vector2( 1024, 378 )
scale = Vector2( 3.218, 1.278 )
texture = ExtResource( 1 )
group = "purple"

[node name="PurplePlatform2" parent="." instance=ExtResource( 7 )]
position = Vector2( 3342, -381 )
scale = Vector2( 5, 2 )
texture = ExtResource( 1 )
group = "purple"

[node name="BlueGearedPlatform" parent="." instance=ExtResource( 7 )]
position = Vector2( 630, 300 )
scale = Vector2( 3.24, 1.57 )
texture = ExtResource( 3 )
group = "blue"

[node name="SimplePlatform" parent="." instance=ExtResource( 7 )]
position = Vector2( 2722, 138.4 )
scale = Vector2( 2.546, 1.11 )
texture = ExtResource( 4 )
group = "yellow"

[node name="Fallzone" parent="." instance=ExtResource( 9 )]
position = Vector2( 738, 898 )
scale = Vector2( 600, 4.788 )

[node name="YellowGem" parent="." instance=ExtResource( 10 )]
position = Vector2( 256, -85 )
z_index = 100
group_name = "yellow"
sprite_frames = ExtResource( 13 )

[node name="BuleGem" parent="." instance=ExtResource( 10 )]
position = Vector2( 5254, 277 )
group_name = "blue"
sprite_frames = ExtResource( 12 )

[node name="PinkGem" parent="." instance=ExtResource( 10 )]
position = Vector2( 2737, -80 )
group_name = "pink"
sprite_frames = ExtResource( 14 )

[node name="PurpleGem" parent="." instance=ExtResource( 10 )]
position = Vector2( 1815, 100 )
group_name = "purple"
sprite_frames = ExtResource( 15 )

[node name="HUD" type="CanvasLayer" parent="."]
offset = Vector2( 0, 15 )
transform = Transform2D( 1, 0, 0, 1, 0, 15 )
script = ExtResource( 17 )

[node name="GemContainerHUD" parent="HUD" instance=ExtResource( 16 )]
anchor_left = 0.5
anchor_right = 0.5

[node name="MovingPlatform" parent="." instance=ExtResource( 21 )]
position = Vector2( 2747, -269 )
scale = Vector2( 3, 2 )
texture = ExtResource( 8 )
group = "pink"

[node name="Node2D" parent="MovingPlatform" instance=ExtResource( 20 )]
is_vertical = true

[node name="MovingPlatform2" parent="." instance=ExtResource( 21 )]
position = Vector2( 1374, 365 )
scale = Vector2( 3, 2 )
texture = ExtResource( 29 )
group = "blue"

[node name="Node2D" parent="MovingPlatform2" instance=ExtResource( 20 )]
distance = 1500.0

[node name="MovingPlatform3" parent="." instance=ExtResource( 21 )]
position = Vector2( 3086, 457 )
scale = Vector2( 3, 2 )
texture = ExtResource( 29 )
group = "blue"

[node name="Node2D" parent="MovingPlatform3" instance=ExtResource( 20 )]
distance = 1000.0

[node name="LazerBeam" parent="." instance=ExtResource( 22 )]
position = Vector2( 2648, 94 )
rotation = -1.5708
color = "yellow"
texture = ExtResource( 23 )

[node name="Canon" parent="." instance=ExtResource( 24 )]
position = Vector2( 3273, -305 )
stand_texture = ExtResource( 27 )
canon_texture = ExtResource( 26 )
bullet_texture = ExtResource( 28 )
followNodeName = "player"
bullet_scene = ExtResource( 25 )
objectToFollow = NodePath("../Player")
color_group = "blue"

[node name="TetrixPool" parent="." instance=ExtResource( 31 )]
position = Vector2( 5950, -987 )
playerNode = NodePath("../Player")

[node name="CameraLocalizer" parent="." instance=ExtResource( 32 )]
position = Vector2( 4358, 559 )
position_clipping_mode = 2

[node name="Area2D" type="Area2D" parent="CameraLocalizer"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="CameraLocalizer/Area2D"]
position = Vector2( 279, 13 )
shape = SubResource( 1 )

[node name="Position2D" type="Position2D" parent="CameraLocalizer"]
position = Vector2( -56, 186 )

[node name="BrickBreaker" parent="." instance=ExtResource( 34 )]
position = Vector2( 397, -2866 )

[node name="FiringCanon" parent="." instance=ExtResource( 24 )]
position = Vector2( 1285, -706 )
stand_texture = ExtResource( 27 )
canon_texture = ExtResource( 26 )
bullet_texture = ExtResource( 28 )
followNodeName = "player"
bullet_scene = ExtResource( 25 )
objectToFollow = NodePath("../Player")
color_group = "blue"
